<html>
  <head>
      <!-- leaflet and friends -->
      <link
        rel="stylesheet"
        href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
        integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
        crossorigin=""/>
      <script
        src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
        integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
        crossorigin="">
      </script>
      <!-- <script
        src="https://unpkg.com/leaflet.nontiledlayer/dist/NonTiledLayer.js">
      </script>
      <script src="vendor/geotiff.browserify.min.js"></script>
      <script src="vendor/plotty.min.js"></script>
      <script src="leaflet-geotiff.js"></script>
      <script src="NonTiledLayer.WCS.js"></script> -->

      <link rel="stylesheet" href="style.css" />
      <!-- disable scaling -->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  </head>
  <body>
      <div id="map"></div>

      <script>
        
        geoserver_base = 'http://localhost:8080/geoserver'

        // initialise map
        var mymap = L.map('map', {
          center: [-10, -80],    // lat, lon
          zoom: 2
        });

        // add tile layer
        // http://leaflet-extras.github.io/leaflet-providers/preview/
        // recommend:
        // - stamen toner-lite,
        // - stamen watercolor,
        // - esri worldimagery (< 1M views a month)
        // - cartodb positron, darkmatter

        L.tileLayer(
          'https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.{ext}',
          {
            attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
            subdomains: 'abcd',
            minZoom: 1,
            maxZoom: 16,
            ext: 'png'
          }).addTo(mymap);

        // add geoserver netcdf using wms
        // (doesn't work with wcs due to lon > 180)
        // and style with css blending modes
        L.tileLayer.wms(
          geoserver_base + '/climdex-test/wms?',
          {
            service: 'WMS',
            version: '1.1.0',
            request: 'GetMap',
            layers: 'climdex-test:tasmax',
            TIME: '2000-07-01T12:00:00.000Z',
            format: 'image/png',
            className: 'multiply-layer'
          }
        ).addTo(mymap);
        // cmip5.getContainer().className += "multiply-layer";


      </script>
  </body>
</html>